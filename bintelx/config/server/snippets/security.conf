# snippets/security.conf
quic_retry on;     # Enable address validation for QUIC connections
quic_gso on;       # Enable Generic Segmentation Offloading (Linux-specific, needs kernel/NIC support)
# Tells clients that this host supports HTTP/3 on port 443 (h3) and that this record is valid for 24 hours (ma=86400).
add_header Alt-Svc 'h3=":443"; ma=86400' always; # 'always' ensures it's added even for error responses.
#quic_host_key /path/to/your/quic_host_key_file; # Optional: set a host key for various tokens (generate this file)

# Security Headers (Best Practices)
add_header Strict-Transport-Security "max-age=63072000; includeSubDomains; preload" always;
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-Content-Type-Options "nosniff" always;
add_header X-XSS-Protection "1; mode=block" always;
# Uncomment and configure properly for your app's needs
# add_header Content-Security-Policy "default-src 'self'; ..."; # Descomentar y configurar
# Uncomment and configure properly for your app's needs
# add_header Content-Security-Policy "default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self' ws: wss:; media-src 'self';" always; # Uncomment and configure properly for your app's needs
