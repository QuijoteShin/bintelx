# Bintelx Environment Configuration
# Copy this file to .env and customize for your environment
#
# FILE-BASED SECRETS (Recommended for production):
# Use SECRET_PLAIN_* or SECRET_JSON_* prefixes to load sensitive values from files.
# The actual variable name will be created without the prefix.
#
# Examples:
#   SECRET_PLAIN_DB_PASSWORD=/run/secrets/db_password.secret → creates DB_PASSWORD variable
#   SECRET_JSON_GOOGLE_OAUTH=/secrets/google.json → creates GOOGLE_OAUTH variable with JSON content
#
# Allowed extensions:
#   SECRET_PLAIN_*: .secret, .key, .txt
#   SECRET_JSON_*: .json
#
# Benefits:
#   - Prevents accidental commits of secrets
#   - Compatible with Docker Secrets, Kubernetes Secrets
#   - Clear separation of code and credentials

# Application
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-domain.com

# Database Configuration
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=bnx_wozniak
DB_USERNAME=your_db_user
DB_PASSWORD=your_secure_password
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_uca1400_ai_ci

# Security
# Option 1: Direct value (not recommended for production)
JWT_SECRET=your_jwt_secret_here
JWT_XOR_KEY=your_xor_key_here

# Option 2: File-based secrets (recommended for production)
# SECRET_PLAIN_JWT_SECRET=/run/secrets/jwt_secret.secret
# SECRET_PLAIN_JWT_XOR_KEY=/run/secrets/jwt_xor.key

JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600

# OAuth / External APIs
# Google OAuth credentials (JSON format from Google Cloud Console)
# SECRET_JSON_GOOGLE_OAUTH=/run/secrets/google_oauth.json
# Then access via: Config::getJson('GOOGLE_OAUTH')['client_id']

# CORS Settings
CORS_ALLOWED_ORIGINS=*
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# File Storage
LOG_PATH=/var/www/bintelx/log
UPLOAD_PATH=/var/www/bintelx/uploads
MAX_UPLOAD_SIZE=10485760

# PHP-FPM
PHP_FPM_SOCKET=/run/php/php8.4-fpm-bintelx.sock

# Nginx
NGINX_SERVER_NAME=bintelx.example.com
NGINX_SSL_CERT=/etc/ssl/certs/bintelx.crt
NGINX_SSL_KEY=/etc/ssl/private/bintelx.key

# Channel Server (Swoole) - Pub/Sub, WebSocket, Real-time
CHANNEL_HOST=0.0.0.0
CHANNEL_PORT=9501

# Email (future use)
MAIL_MAILER=smtp
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_FROM_ADDRESS=noreply@bintelx.example.com
MAIL_FROM_NAME=Bintelx

# Redis (optional, for caching)
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=

# Application Features
ENABLE_AUDIT_LOG=true
ENABLE_QUERY_LOG=false
ENABLE_DEBUG_MODE=false

# Logging Configuration
# LOG_LEVEL: DEBUG, INFO, WARNING, ERROR, NONE
LOG_LEVEL=ERROR
# LOG_TO_CLI: Mostrar logs en consola cuando se ejecuta en terminal
LOG_TO_CLI=true
# LOG_TO_USER: Crear archivos de log específicos por usuario
LOG_TO_USER=false
